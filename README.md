# CS18000-Group-Project

# Instructions on how to compile and run project
For Phase 1, we do not have a dedicated main method to show the interaction between the clients to the server to the databases. That will be delivered in Phase 2. Instead, we have our test cases that can be run for each of our 5 classes: UserTest, ProfileTest, DatabaseTest, ChatTest, and ChatDatabaseTest. Open the project on IntelliJ, install JUnit5 packages if prompted to, and press the run button at the top right corner (or F5) to run each test script. 

# Brightspace and Vocareum Submission
Jason Chan submitted Phase 1 workspace to Vocareum

# Class Descriptions
## Chat
The chat class is used to simulate a chat between multiple users. It implements serializable which lets you save the state of chats between sessions. The class has two fields, id and messages. The id is used to get a unique chat between two users by concatenating the two usernames alphabetically in the constructor. Messages is an array list that contains the messages sent within the chat. The equals method is comparing the chat id to another object's chat id to see if they are representing the same chat. The id can be reproduced on either end of the client when they create a new Chat instance and pass in their username and then their receiver’s username. By being able to reproduce the id on both ends, we are able to get the same messages data for each client. The getID() method returns the id of the chat as a string. The getMessages() method returns the messages array list. The addMessage(String message) method allows users to add a message to the array list or chat. The removeMessage(int index) method allows users to remove/delete a message from the array list. The chat class is independent from other classes but it does interact with the ChatDatabase class. Instances of the class will later be created on the server. Our tests verify that the add and remove function correctly adds or removes a chat from the arraylist. We also verify that our constructor is correctly constructing the id to our intentions and that our equals method correctly identifies that. We simulated how the equals method would be used on the server by creating two Chat instances with the same usernames (but ordered differently) and making sure that they have the same id. 

## ChatDatabase
The ChatDatabase class is a database containing chat objects. It’s used for loading and saving classes. The chat objects are stored with a chats.dat file. This class has one field, chats. Chats is a arrayList of type Chat	 that holds all the chat objects. The constructor loads the chats from the chats.dat file and if a chat does not exist or an error occurs it will throw an exception to prevent the program from crashing. The method saveChat(Chat chat) updates a chat in chats.dat by rewriting the chats.dat file, re-adding all the chats in the file that doesn’t have the same id as variable chat, but when it reaches the chat that the user wishes to be changed, it is then replaced with the updated chat. The addChat(Chat chat) method adds a new chat to the chats array list and appends it to the database. When the chat is successfully added to the database, a message saying “Chat has been registered” is printed as a confirmation. The chatRegistered(Chat chat) checks if a chat already exists within the chat list by comparing the existing chat ids with the id passed through the parameter. It returns true if the id exists and false if not. ChatDatabase interacts with Chat to save and get chat instances. It will later be requested by the server, first calling the chatRegistered, then addChat (if chat doesn’t exist), then saveChat method (whenever a client adds or deletes a message). The test for this class verifies that the database is properly writing to the chats.dat file and that we can retrieve and interpret that data. We do this by first creating a Chat instance with two usernames and populating it with random messages. We then save that chat to the database. To test if we can read the data, we create a new ChatDatabase object and a new Chat instance with the same usernames in a different order, to simulate how we would be writing this out on the server. We ensure that the chat already exists in the database and then make sure that that saved chat has the same messages that were initially stored.

## Profile
The profile class is used to create a profile for a user that contains their name, a description of them, their friend list, and their blocked list. The class has 4 fields: name, description, friends, and blockedUsers. The constructor initializes the String name, String description, the String array list friends, and the String array list blockedUsers. There are 4 getters which return name, description, friends, and blockedUsers, respectively.  There are two setters that allow setting a new name for the profile and a new description, setName(String name) and setDescription(String description) respectively. The addFriend(String username) adds a username to the friends list. The removeFriend(String username) method removes a username from the friends list. The addBlock(String username) adds the passed in username to the block list. The removeBlock(String username) removes the passed in username from the blocked list. The profile class is a subclass of the User class and adds information on top of what is provided from the User class. Tests for this class consisted of ensuring that each fundamental method was correctly working as intended (i.e. friends were friends, blocked people were blocked, etc.). This class doesn’t have the methods to actually have one User friend another (that is in the Database class), but we can still populate Users with dummy friends to test.

## User
The user class is used to store basic information about a user and implements serializable to allow storage and retrieval of that data. The class has 3 fields: loginUsername, password, and profile. The constructor initializes a new instance of user with the passed in username, password, and profile. The class has 3 getters which return loginUsername, password, and profile respectively. The equalsUsername(User user) method compares two usernames to each other and returns true if they are equal and false if not. The equalsPassword(User user) method compares two passwords to each other and returns true if they are equal and false if not. The user class is the parent class of the profile class and has a reference to profile within it. The user class is related to the database class as the database class is where user objects are stored. Tests for this class consisted of creating dummy Users with different usernames and passwords and ensuring our equals methods were outputting the correct results based on the inputs. 

## Database
The database class gives a way to store User objects which allows for loading, adding, and managing users. The class has one field, users, which is an array list of type User that stores all the user objects. The constructor initializes users and loads users from the users.dat file  using an ObjectInputStream. It reads this file until an EOF exception is caught at which point the program continues. The addUser(User user) method adds a user to the users array list and appends the new user to users.dat. The getUsers() method returns the users array list. The getUser(String username) retrieves the specified user from the users array list by searching using username, returns null if username isn’t found. The nameAlreadyExists(User user) method checks if a username already exists within the database by using equalsUsername method. The passwordAlreadyExists(User user) checks if a password already exists within the database by using the equalsPassword method. The friendUser(String username1, String username2) checks if the users are already friends with each other or if they have blocked each other. If neither of these conditions are true then the users become friends. The blockUser(String username1, String username2) checks if the users are already blocked and if they are friends with each other. If they are friends with each other it removes them as friends and adds them to the block list. This method returns if the user was just blocked or if they were blocked and unfriended. The database class is related to the user since it stores all of the user data within the users.dat file. Testing for this class ensured that the Database can retrieve information about saved Users properly. We did this by adding a User into the database, then creating a new Database to retrieve the stored information and check to make sure that stored User has the same username. Testing also included populating friends and blocks through the database, ensuring logins and passwords exist/match, and ensuring that blocking a friend unfriends the users.
